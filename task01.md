##                             Лабораторная работа 1.  Создание консольного PHP-приложения с подключением сторонних пакетов и публикацией на Packagist

### Установка PHP
* Настроить работу с PHP в CLI-режиме (без веб-сервера).

### Настройка GitHub и Git
* Зарегистрироваться на GitHub. Сделать форк своего репозитория  из https://github.com/andpop-mrsu.
* Установить и выполнить первичную настройку Git на локальной машине (`git configure --global user.name`, `git configure --global user.email`).
* Склонировать "форкнутый" репозиторий из своего профиля GitHub на локальную машину (`git clone`). При этом удаленный репозиторий в вашем профиле будет привязан под именем *origin*.
* Добавить привязку к оригинальному репозиторию под именем *upstream* (`git remote add upstream https://github.com/andpop-mrsu/PHP_XXX_XX.git`).
* Создать в локальном репозитории ветку Task01. Далее работать в этой ветке.

### Требования к PHP-коду:
* Создание проекта и подключение внешних зависимостей (wp-cli/php-cli-tools) с помощью Composer.
* Использование пространств имен для всех файлов в проекте.
* Применение автозагрузки файлов в проект.
* Поддержка стандартной файловой структуры проекта.
* Разделение логики и данных от визуального представления (паттерн MV-).
* Соблюдение стандартов кодирования PSR-1, PSR-12 (будет проверяться автоматически с помощью PHP Code Sniffer).
* В модулях не должно быть исполняющегося кода. Запуск на выполнение функций может быть только в исполняющемся файле (скрипте).

### Установка пакетного менеджера Composer
* Установить на своем компьютере Composer. Установка должна быть глобальной, чтобы утилита была доступнa из любого каталога по команде `composer`.

### Создание Composer-проекта (пакета)
* Создать каталог для своего проекта с именем разрабатываемой игры (Task01/progression, Task01/prime, Task01/GCD, Task01/calculator).
    * Исходный код должен храниться в подкаталоге src.
    * Запускной PHP-файл для игры должен находиться в подкаталоге bin.
* Добавить файл README.md (формат Markdown) с описанием своего проекта.
* Инициализировать проект с помощью Composer (команда `composer init`).
* С помощью `composer require` установить и подключить в зависимости проекта библиотеку wp-cli/php-cli-tools, упрощающую разработку консольных программ (можно использовать функции `line()` и `prompt()` для вывода/ввода строк). Изучить документацию к этой библиотеке на GitHub.
* Создать в папке bin исполняемый (запускной) PHP-скрипт с именем из спецификации к игре (progression, prime, GCD, calculator). В этом файле должны автоматически загружаться все нужные файлы проекта и вызываться функция `startGame()` для запуска игры.
* Создать модули src/Controller.php и src/View.php, назначить пространства имен *GitHub_login\Game_name*\Controller и *GitHub_login\Game_name*\View. Обратите внимание, что в названиях пространств имен не должно быть знаков тире.
* Добавить в модуль Controller функцию `startGame()` для инициализации игры и вывода начального экрана игры (сам экран должен выводиться функцией из модуля View).

### Настройка исполняемых файлов проекта
* Добавить в composer.json параметр "bin", в качестве значения указать массив с именами файлов, которые Composer при установке пакета из Packagist сделает исполняемыми. Пока в этом массиве должен быть один запускной скрипт игры.
* Для того, чтобы исполняемый файл получился кроссплатформенным, в первую строку запускного скрипта нужно добавить шебанг `#!/usr/bin/env php`.

### Настройка автозагрузки файлов проекта
* Добавить в composer.json параметр "autoload" с вложенным параметром "files". В качестве значения "files" указать массив с именами файлов для автозагрузки. Пока в этом массиве должен быть файлы с модулями Controller и View.
* Выполнить команду `composer dump-autoload -o` для генерации в файле vendor/autoload.php кода автозагрузки всех нужных файлов.
* В запускном скрипте:
    * добавить код для загрузки файлов из vendor/autoload.php;
    * импортировать функцию `startGame()` из пространства имён *GitHub_login\Game_name*\Controller;
    * вызвать функцию `startGame()`.


### Настройка Git
* В репозитории не должно быть временных файлов и каталогов, а также файлов внешних зависимостей (каталог vendor), подключенных в проекте. Все лишние файлы и каталоги нужно указать в файле .gitignore, чтобы Git их игнорировал.

### Публикация пакета на Packagist
* Создать в своем профиле на GitHub отдельный репозиторий для игры.
* Скопировать туда созданный проект.
* Добавить номер версии (релиза) с помощью команд `git tag -a v1.0 -m "Version 1.0"` и `git push --tags`.
* Зарегистрироваться на Packagist.
* Создать новый пакет на Packagist, связав его с репозиторием своей игры на GitHub.
* Установить опубликованный пакет локально и глобально, проверить запуск игры из командной строки (без указания интерпретатора). Разобраться с механизмом подобного запуска.
* Добавить ссылку на опубликованный пакет в файл README.md.

### Отправка задания на проверку
* Выполнить коммит в ветке Task01 (в папке Task01 должны быть файлы: README.md, README_logger.md, self-logger.bat/self-logger.sh и task1.php).
* Отправить созданный коммит в "форкнутый" репозиторий на GitHub (`git push origin`).
* Сделать Pull Request для добавления ветки Task01 из репозитория в вашем профиле в https://github.com/andpop-mrsu.
* Задание будет считаться принятым после закрытия Pull Request в https://github.com/andpop-mrsu.
* После принятия задания преподавателем синхронизировать с оригинальным свой локальный репозиторий (`git pull upstream master`), потом репозиторий в своем профиле GitHub (`git push origin master`).


* * *
### Темы для изучения
* PHP в режиме командной строки.
    * Д. Скляр, А. Трахтенберг "PHP. Рецепты программирования", 3-е изд., глава 26. СПб.: Питер, 2015.
* Система управления версиями Git.
    * <https://git-scm.com/book/ru/v2/> S.Chacon, B. Straub "Pro Git". Электронная книга про Git (перевод на русский язык).
    * <https://learn.javascript.ru/screencast/git> Скринкаст Ильи Кантора по Git.
* Веб-сервис GitHub для хостинга IT-проектов и их совместной разработки
    * <https://youtu.be/pUT3mx1ZRUМ> "Pull request в опенсорс" от Hexlet. Инструкция по работе с Pull Request для добавления своего кода в open-source проекты (наша процедура отчетности организована точно по такой же схеме).   
* Работа с пакетами для приложений на языке PHP. Пакетный менеджер Composer и основной репозиторий пакетов Packagist.org.
    * Д. Локхарт "Современный PHP. Новые возможности и передовой опыт", глава 4. М.: ДМК Пресс, 2016.
    * Д. Скляр, А. Трахтенберг "PHP. Рецепты программирования", 3-е изд., глава 27. СПб.: Питер, 2015.
    * <https://books.goalkicker.com/PHPBook/> Электронная книга "PHP Notes for Professionals", глава 41.
* Пространства имен и файловая структура PHP-приложений.
    * Д.В. Котеров, И.В. Симдянов "PHP 7 в подлиннике", глава 25. СПб.: БХВ-Петербург, 2016.
* Автозагрузка модулей и импорт функций в PHP-приложениях.
    * Д. Локхарт "Современный PHP. Новые возможности и передовой опыт" М.: ДМК Пресс, 2016.
* Типы исполняемых файлов в операционных системах.
* Разделение интерпретируемого приложения на исполняемые скрипты и подключаемые модули.
    * <https://ru.hexlet.io/blog/posts/skripty-moduli-i-biblioteki> К. Мокевнин "Скрипты, модули и библиотеки"

* * *
### Полезные ссылки
* Пример консольного PHP-приложения, оформленного в виде пакета и опубликованного на Packagist.org.
    * <https://github.com/andpop/php-project-lvl1> Репозиторий на GitHub
    * <https://packagist.org/packages/andpop/php-project-1> Пакет на Packagist
